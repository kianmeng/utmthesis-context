% !TEX TS-program = context (luatex)
% !TEX encoding = UTF-8 Unicode
% !TEX root = thesis.tex
% !TeX spellcheck = en-US
% !BIB program = bibtex
% @see https://tex.stackexchange.com/q/78101/34697

% Enable / Disable these to troubleshoot any layout issues.
% \showlayout
% \showsetups
% \showgrid
% \showmakeup
% \showframe
% \showbodyfontenvironment

\setuppapersize[A4][A4]
\setupbodyfont[times,12pt]
\setuplayout[backspace=4cm,width=middle,cutspace=2.5cm]

% @see http://wiki.contextgarden.net/Command/setupinterlinespace
% Closest we can get like MS Word 1.5 line spacing.
\setupinterlinespace[line=3.8ex]

% @see http://wiki.contextgarden.net/Command/setuppagenumbering
\setuppagenumbering[location={header,right},alternative=singlesided]

\setuphead[subject][
    textstyle=cap,
    header=empty,
    alternative=middle,
    style=bold,
]

\setuplabeltext[chapter=CHAPTER~]
\setuphead[chapter][
    textstyle=cap,
    header=empty,
    alternative=middle,
    style=bold,
    numbercommand=\groupedcommand{}{\blank[3cm]},
    after={\blank[3cm]},
]

% @see http://wiki.contextgarden.net/Command/setupindenting
% @see http://wiki.contextgarden.net/Indentation
% Indent all paragraph after all section headers.
\setupindenting[yes, 1.27cm, first]
\setupheads[section, subsection][
    indentnext=yes,
    numberwidth=1.27cm,
    style=bold,
    before={\blank[3*line]},
    after={\blank[1*line]}
]

\setupheads[subsubsection][
    indentnext=yes,
    numberwidth=1.27cm,
    style=bold,
    before={\blank[1*line]},
    after={\blank[1*line]}
]

\starttext
\input title

\startfrontmatter
    \setupheadtext[content=Table of Contents]
    \setuphead[subject][incrementnumber=list]
    \setupcombinedlist[content][
        list={subject,chapter,section,subsection, subsubsection},
        alternative=b,
    ]

    \setuplist[subject][margin=30mm, style={\WORD\bf}, pagestyle={\word}]
    \setuplist[chapter][margin=10mm, width=20mm, style={\WORD\bf}, pagestyle={\word}]
    \setuplist[section][width=18mm, margin=30mm]
    \setuplist[subsection][width=18mm, margin=48mm]
    \setuplist[subsubsection][width=18mm, margin=66mm]

    \definestructureconversionset[frontpart:pagenumber][][romannumerals]
    \definestructureconversionset[bodypart:pagenumber][][numbers]

    \input 01_acknowledgement
    % \subject{Acknowledgement}
    \completecontent
\stopfrontmatter

\setupwhitespace[line]
\startbodymatter
    \input chapter01
    \input chapter02
\stopbodymatter

%\startappendices
%\stopappendices

\stoptext
