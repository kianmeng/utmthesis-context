% !TEX TS-program = context (luatex)
% !TEX encoding = UTF-8 Unicode
% !TEX root = thesis.tex
% !TeX spellcheck = en-US
% !BIB program = bibtex
% @see https://tex.stackexchange.com/q/78101/34697

\startproduct utmthesis
\project project_utmthesis

\mainlanguage[en]

\component title

\startfrontmatter
    \definehead[headers][title]
    \setuphead[headers][
        style={\WORD\bf},
        incrementnumber=list,
    ]

    \setupheadtext[content=Table of Contents]
    \setuphead[title][incrementnumber=list]
    \setupcombinedlist[content][
        list={headers,title,chapter,section,subsection, subsubsection},
        alternative=b,
    ]

    \setuplist[headers][margin=0mm, style={\WORD\bf}, pagestyle={\word}, pagenumber=no, after={\blank[1*line]}]
    \setuplist[title][margin=30mm, style={\WORD\bf}, pagestyle={\word}]
    \setuplist[chapter][margin=10mm, width=20mm, style={\WORD\bf}, pagestyle={\word}]
    \setuplist[section][width=18mm, margin=30mm]
    \setuplist[subsection][width=18mm, margin=48mm]
    \setuplist[subsubsection][width=18mm, margin=66mm]

    \definestructureconversionset[frontpart:pagenumber][][romannumerals]
    \definestructureconversionset[bodypart:pagenumber][][numbers]

    \writetolist[headers]{}{Chapter \hfill Title \hfill Page}

    \setuppagenumber[number=2]
    \component declaration
    \component dedication

    % Resume the indentation formatting
    \setupindenting[yes, 1.27cm, first]
    \input 04_acknowledgement
    \input 05_abstract
    \input 06_abstrak

    \completecontent

    \input 07_listof

\stopfrontmatter

\setupwhitespace[line]
\startbodymatter
    \setuppagenumber[number=1]
    \input chapter01
    \input chapter02
    \input chapter03
    \input chapter06
\stopbodymatter

\startbackmatter
    \completepublications[criterium=all]
\stopbackmatter

\startappendices
    \appendix{Sample Appendix}
    \appendix{Another Appendix}
    \appendix{\fakewords{20}{30}}
\stopappendices

\stopproduct
